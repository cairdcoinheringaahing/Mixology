A "[drink name]". Serve [up | long | neat | on the rocks |] with [a straw | a [salt | sugar] rim |] in a [Martini | coupe | rocks | Collins | highball] glass with [no | an olive | a Maraschino cherry | a mint leaf | [a | integer] [lime | orange | lemon | grapefruit [wedge | wheel]] | a [lemon | orange | lime | grapefruit] twist] garnish

- [1/4 | 1/2 | 3/4 | integer] [oz | ounces | measures | shots] of [base | liqueur | syrup | juice | bitters]
- [integer] [fruit | mint [leaf | leaves]], muddled
- An egg white
- [1/4 | 1/2 | 3/4 | integer] [dash | drop] of [[Angostura | aromatic | orange | chocolate | grapefruit | Peychaud's | Boker's] bitters | absinthe]
- [1/4 | 1/2 | 3/4 | integer] teaspoon of [base | liqueur | syrup | juice | bitters]
- [soda water | soda | juice], to top up

Add the [ingredient | list, of, ingredients] to the [shaker | tin]. Muddle the [leaf | leaves]].

One of:

- [Reverse]? [dry]? shake over [cracked | crushed | cubed |] ice
- Stir over ice until chilled
- Build in glass, over [cracked | crushed | cubed |] ice

One of (only if shaken or stirred):

- Strain into glass[, over [cracked | crushed | cubed |] ice]
- Double strain into glass[, over [cracked | crushed | cubed |] ice]
- Open pour into glass[, over [cracked | crushed | cubed |] ice]

Top up with [soda water | soda | juice]. Garnish with [no | an olive | a Maraschino cherry | a mint leaf | [a | integer] [lime | orange | lemon | grapefruit [wedge | wheel]] | a [lemon | orange | lime | grapefruit] twist]

-------

An "Example Program". Serve up with a straw, in a Martini glass with a lemon twist garnish

- 2 oz of vodka
- 1 oz of pineapple juice
- 1/2 oz of Campari
- 1/2 oz of Kahlua
- 2 dashes of chocolate bitters
- 1 mint leaf, muddled

Add the pineapple juice to the shaker. Muddle the mint leaf. Add the vodka, Campari, Kahlua and chocolate bitters to the tin. Dry shake over crushed ice. Double strain into glass.

---

- n [oz | dash | drop | teaspoon] of [ingredient]

  When added to the tin, a number is pushed to the stack. The exact number depends on n and the amount measure. The ingredient then modifies what happens to the stack.
  
- Muddle the [ingredient]

  Repeat the next instructions until a condition is met. The number of instructions depends on the number of the ingredient and the condition depends on the ingredient.
  
- Top up with [ingredient].

  ...

- Garnish with [garnish].

  ...
  
- Shake/Dry shake/Reverse dry shake

  Can only dry/reverse dry shake if an egg white has been added. ...
  
- Shake/Dry shake/Reverse dry shake, over [ice]

  Can only dry/reverse dry shake if an egg white has been added. ...
  
- Stir

  ...
  
- Build over [ice].

  ...
  
- Strain/Double strain/Open pour, into glass over [ice]

  ...
